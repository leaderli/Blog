---
title: redis管道
date: 2020-05-19 19:26:16
categories: redis
tags:
  - pipeline
---

redis 使用 cs 服务架构，执行一条命令的过程如下

1. 客户端发送一个请求到服务器
2. 服务器通过 socket 读取命令，通常以阻塞的方式读取
3. 服务器通过`read()`指令将命令从内存加载到内核执行
4. 核心执行命令将执行结果写回内存
5. 将执行结果返回客户端

redis 执行命令的速度是较快的，当执行大量命令时，那么大部分时间将花费在请求返回，读取写回上。
redis 提供了管道命令，可以批量执行命令，依次执行，然后等执行完成后将执行结果打包返回给客户端。

当然也可以使用{% post_link redis脚本 %}去执行大量命令，来达到批量执行的目的。
